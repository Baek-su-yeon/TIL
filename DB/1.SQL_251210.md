## Relational Database
- 데이터 간에 관계가 있는 데이터 항목들의 모음
- 테이블, 행, 열의 정보를 구조화하는 방식
- 서로 관련된 데이터 포인터를 저장하고 이에 대한 엑세스를 제공

    ### Relational
    - 여러 테이블 간의 **논리적** 연결
    - 데이터를 각각 테이블에 나눠 저장하되, **공통된 키 값을 통해 서로 연결**하여 필요할 때 함께 조회하거나 조작
    
    ### 관련 키워드
    
    |키워드|설명|
    |:---|:---|
    |Table|데이터를 기록하는 곳|
    |Field|고유한 데이터 형식(타입)이 지정|
    |Record|구체적인 데이터 값 저장|
    |Database|테이블의 집합|
    |Primary Key|각 레코드의 고유한 값, 관계형 DB에서 레코드의 식별자|
    |Foreign Key|테이블의 필드 중 다른 테이블의 레코드를 식별하는 키, 각 레코드에서 다른 테이블 간 관계를 형성|

    ### DBMS (Database Management System)
    - DB를 관리하는 SW program
    - DB와 사용자 간의 인터페이스 역할로 데이터 구성/업데이트/모니터링/백업/복구 등을 도움
    - 관계형 DB 관리 소프트웨어를 "RDBMS"라하며 **SQLite, MySQL, PostgreSQL, Oracle Database**가 있음

## SQL (Structure Query Language)
- 테이블 형태로 구조화된 관계형 DB에게 요청을 질의
    ```SQL
    -- 기본 구문
    SELECT column_name FROM table_name;
    -- 1. SQL 키워드는 대소문자 구분 ❌ 하지만 대문자 작성 지양
    -- 2. 각 SQL Statements의 끝에는 ';' 필요
    ```
    ## SQL Staements
    
    |유형|역할|키워드|
    |:---|:---|:---|
    |DDL(Data Definition Language)|데이터의 기본 구조 및 형식 변경|CREATE, DROP, ALTER|
    |DQL(Data Query Language)|데이터 검색|SELECT|
    |DML(Data Manipulation Language)|데이터 조작|INSERT, UPDATE, DELETE|
    |DCL(Data Control Language)|데이터 및 작업에 대한 사용자 권한 제어|COMMIT, ROLLBACK, GRANT, REVOKE|

## SELECT
- syntax
    ```SQL
    -- 기본구문
    SELECT select_field, select_field2  FROM table_name;

    -- table에서 모든 필드 데이터를 조회
    SELECT * FROM table_name;

    -- table에서 select_field의 모든 데이터를 조회
    -- 조회 시 'print_name'으로 출력될 수 있도록 변경
    SELECT select_field AS 'print_name' FROM table_name;

    -- select_field의 각 레코드에 +-/* 연산도 바로 가능
    SELECT select_field / 60000 AS 'print_name' FROM table_name;
    ```
- statement 실행순서
    > FROM ➡ WHERE ➡ GROUP BY ➡ HAVING ➡ SELECT ➡ ORDER BY ➡ LIMIT
    
    ✳ 테이블에서(FROM) ➡ 특정 조건에 맞추어(WHERE) ➡ 그룹화 하고(GROUP BY) ➡ 그룹 중에 조건이 있으면 맞추고(HAVING) ➡ 조회하여(SELECT) ➡ 정렬하고(ORDER BY) ➡ 특정 위치 값을 가져와라 (LIMIT)

    ### WHERE
    ```SQL
    SELECT select_field FROM table_name WHERE select_field = 'value';
    
    SELECT select_field FROM table_name WHERE select_field != 'value'; 

    SELECT select_field, select_field2 FROM table_name WHERE select_field IS NULL AND select_field2 = 'value';
    SELECT select_field, select_field2 FROM table_name WHERE select_field IS NULL OR select_field2 = 'value';

    SELECT select_field FROM table_name WHERE select_field BETWEEN value1 AND value2

    SELECT select_field FROM table_name WHERE select_field IN ('value1','value2','value3')
    SELECT select_field FROM table_name WHERE select_field NOT IN ('value1','value2','value3')

    -- 필드에서 특정 value로 끝나는 레코드 조회
    -- LIKE '%': %앞 또는 뒤의 0개 이상의 문자열과 일치하는지 확인
    SELECT select_field FROM table_name WHERE select_field LIKE '%value'

    -- 필드에서 레코드 내에 특정 value가 존재하는지 조회
    -- _: 단일 문자와 확인 즉 아래 문구는 두글자이면서 끝이 value로 끝나는 레코드를 찾는것
    SELECT select_field FROM table_name WHERE select_field LIKE '__value'
    ```
    
    ### GROUP BY
    ```SQL
    -- field_name을 그룹화
    SELECT select_field FROM table_name GROUP BY select_field;

    -- 그룹별로 묶은 총 수를 반환
    SELECT select_field, COUNT(*) FROM table_name GROUP BY select_field;

    -- 그룹화하여 각 그룹에 대한 value의 평균값 반환
    SELECT select_field, AVG(value) FROM table_name GROUP BY select_field;
    ```

    ### HAVING
    - 집계 항목에 대한 세부 조건을 지정
    - 주로 GROUP BY와 함께 사용되며 GROUP BY가 없다면 WHERE처럼 동작
    
    ||WHERE|HAVING|
    |:---|:---|:---|
    |목적|개별 행에 대한 조건을 지정하여 데이터 필터링|GROUP BY에 의해 **그룹화된 결과**에 대해 조건을 지정하여 **그룹을 필터링**|
    |예시|특정 조건을 만족하는 행 만을 대상으로 집계나 정렬 등의 작업을 수행할 때 사용|그룹별 집계 결과에 조건을 걸어 **특정 그룹만을 선택할 때** 사용|
    ```SQL
    -- WHERE
    SELECT * FROM table_name WHERE value > 30000;

    --- HAVING
    SELECT select_field, COUNT(*) AS result FROM table_name GROUP BY select_field HAVING result > 5;
    ```

    ### ORDER BY
    🚨 NULL 값이 존재할 경우 결과에 NULL이 먼저 출력(오름차순)
    ```SQL
    -- 오름차순
    SELECT select_field FROM table_name ORDER BY select_field;

    -- 내림차순
    SELECT select_field FROM table_name ORDER BY select_field DESC;

    -- select_field 기준으로 내림차순 정렬 후 select_field2 기준으로 오름차순 정렬
    SELECT select_field, select_field2 FROM table_name ORDER BY select_field DESC, select_field2
    ```

    ### LIMIT
    - 몇개의 데이터를 조회할 것인지 결정
    ```SQL
    SELECT select_field FROM table_name ORDER BY select_field LIMIT 7

    --- 4번째부터 7번 데이터만 조회
    SELECT select_field FROM table_name ORDER BY select_field LIMIT 4,7
    ```