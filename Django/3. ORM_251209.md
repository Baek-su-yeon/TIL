## ORM(Object-Relational-Mapping)이란?
- 객체 지향 프로그래밍 언어의 객체와 DB의 데이터를 매핑하는 기술

    ### QuerySet API
    ```python
    # 기본 구조
    # Model_class.Manager.Queryset_API
    Article.objects.all()
    ```
    |이름|역할|설명|
    |:---|:---|:---|
    |Model class|DB 테이블에 대한 python 클래스 표현|테이블의 설계도 정의, ORM이 DB와 상호작용할 때 사용하는 기본적인 구조체|
    |Manager|DB 조회 작업을 위한 기본 인터페이스|모델 클래스가 DB Query 작업을 수행할 수 있도록 하는 진입점|
    |Queryset API|특정 DB 작업을 수행하는 명령|매니저를 통해 호출되는 메서드(all(), filter(), get() 등)|

    ### Queryset API 메서드
    
    |메서드|설명|Queryset 반환 여부|
    |:---|:---|:---|
    |all()|전체 데이터 조회|⭕|
    |filter()|주어진 매개변수와 일치하는 **객체를 포함**하는 Queryset 반환|⭕|
    |get()|주어진 매개변수와 일치하는 객체를 반환|❌|

    ```bash
    model_name.objects.create(title='first', content='django!')
    model_name.objects.create(title='second', content='django!')
    model_name.objects.create(title='third', content='django!')

    model_name.objects.all()
    <QuerySet [<model_name: model_name object (1)>, <model_name: model_name object (2)>, <model_name: model_name object (3)>]>

    model_name.objects.filter(content='django!')
    <QuerySet [<model_name: model_name object (1)>, <model_name: model_name object (2)>, <model_name: model_name object (3)>]>

    model_name.objects.filter(title='first')
    <QuerySet [<model_name: model_name object (1)>]>

    model_name.objects.filter(content='abc')
    <QuerySet []>

    model_name.objects.get(pk=1)
    <model_name: model_name object (1)>

    model_name.objects.get(pk=100)
    DoesNotExist: model_name matching query does not exist.
    ```
---

## Field lookups
- 단순 동치 비교(=)를 넘어 더 상세한 조건으로 데이터 조회 가능
- 모델의 필드 이름 뒤에 이중 밑줄('__')을 붙이고 원하는 조회 유형을 명시
```bash
model_name.objects.filer(모델필드명__조회조건='비교할값')
```

### Field Lookups (필드 조회 조건)

| 조회 조건 (Lookup) | SQL 변환 | 설명 | 예시 |
| :--- | :--- | :--- | :--- |
| **`exact`** | `=` | 정확히 일치하는 값 조회 (Lookup 생략 시 기본값) | `필드명='값'` 또는 `필드명__exact='값'` |
| **`iexact`** | `LIKE` (대소문자 무시) | 정확히 일치하지만, **대소문자를 구분하지 않습니다**. | `필드명__iexact='값'` |
| **`contains`** | `LIKE` (와일드카드 `%...%`) | 해당 문자열을 포함하는지 조회합니다. (SQL `LIKE %값%`) | `필드명__contains='값'` |
| **`icontains`** | `LIKE` (대소문자 무시) | 문자열을 포함하는지 조회하며, **대소문자를 구분하지 않습니다**. | `필드명__icontains='값'` |
| **`in`** | `IN` | 주어진 리스트(또는 튜플) 내의 값 중 하나와 일치하는지 조회합니다. | `필드명__in=[1, 2, 3]` |
| **`gt`** | `>` | 주어진 값보다 큰지(Greater than) 조회합니다. | `필드명__gt=10` |
| **`gte`** | `>=` | 주어진 값보다 크거나 같은지(Greater than or equal) 조회합니다. | `필드명__gte=10` |
| **`lt`** | `<` | 주어진 값보다 작은지(Less than) 조회합니다. | `필드명__lt=10` |
| **`lte`** | `<=` | 주어진 값보다 작거나 같은지(Less than or equal) 조회합니다. | `필드명__lte=10` |
| **`startswith`** | `LIKE` (와일드카드 `...%`) | 해당 문자열로 시작하는지 조회합니다. (SQL `LIKE 값%`) | `필드명__startswith='값'` |
| **`istartswith`** | `LIKE` (대소문자 무시) | 문자열로 시작하는지 조회하며, **대소문자를 구분하지 않습니다**. | `필드명__istartswith='값'` |
| **`endswith`** | `LIKE` (와일드카드 `%...`) | 해당 문자열로 끝나는지 조회합니다. (SQL `LIKE %값`) | `필드명__endswith='값'` |
| **`iendswith`** | `LIKE` (대소문자 무시) | 문자열로 끝나는지 조회하며, **대소문자를 구분하지 않습니다**. | `필드명__iendswith='값'` |
| **`range`** | `BETWEEN` | 주어진 두 값(경계값 포함) 사이의 범위에 있는지 조회합니다. | `필드명__range=(시작값, 끝값)` |
| **`date`** | 날짜 비교 | `DateTimeField`의 날짜 부분만 추출하여 비교합니다. | `필드명__date=날짜값` |
| **`year`** | 연도 추출 | 날짜/시간 필드에서 연도만 추출하여 비교합니다. | `필드명__year=2024` |
| **`month`** | 월 추출 | 날짜/시간 필드에서 월만 추출하여 비교합니다. (1~12) | `필드명__month=1` |
| **`day`** | 일 추출 | 날짜/시간 필드에서 일(Day of month)만 추출하여 비교합니다. | `필드명__day=15` |
| **`isnull`** | `IS NULL` 또는 `IS NOT NULL` | 필드 값이 `NULL`인지 여부를 확인합니다. (`True` 또는 `False` 값 사용) | `필드명__isnull=True` |
| **`regex`** | `REGEXP` (정규 표현식) | 주어진 정규 표현식과 값이 일치하는지 조회합니다. | `필드명__regex='패턴'` |
| **`iregex`** | `REGEXP` (대소문자 무시) | 정규 표현식 일치 여부를 **대소문자를 구분하지 않고** 조회합니다. | `필드명__iregex='패턴'` |

참고: https://docs.djangoproject.com/en/5.2/ref/models/querysets/#field-lookups